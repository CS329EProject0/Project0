<!DOCTYPE html>
<html>

<!-- calling the webDesign-->
<link rel="stylesheet" href="webDesign.css">

<head>
	<title>Login</title>
</head>
<body>
	<h1>User Login</h1>
	<hr>
	<table>
		<tbody>
			<form id="login" method="post">
				<tr>
					<td><label>Username:</label>
						<input type="text" name="userName" id="userName">
					</td>
				</tr>
				<tr>
					<td><label>Password:</label>
						<input type="password" name="password" id="password">
					</td>
				</tr>
				<tr>
					<td>
						<button type="submit" form="login" value="Submit" onclick="adminOrMember();">Login</button>
						<input type="reset" name="reset" value="Reset">
					</td>
				</tr>
			</form>
		</tbody>
	</table>


	
	<!--The below function checks if the input matches the hard-coded admin or member login info-->
	<script type="text/javascript">
	document.getElementById('login').onsubmit = function(e) {e.preventDefault();}

		function adminOrMember() {
			//Hard-coded login credentials
			var member = "Attendee"
			var memberPassword = "Paulineisthebest"
			var admin = "Pauline"
			var adminPassword = "Iamthebest"


			var userName = document.getElementById("userName").value;
			var password = document.getElementById("password").value;
			if ((userName == member) && (password == memberPassword)) {
				console.log("valid registration")
				window.location = 'member.html'
			} else if ((userName == admin) && (password == adminPassword)) {
				console.log("valid registration")
				window.location = 'adminPage.html'
			} else {
				alert("Username or password is unrecognized.")
			}
		}

		function validate() {
			var userName = document.getElementById("userName").value;
			var password = document.getElementById("password").value;
			if (validateUsername(userName) && validatePassword(password)) {
				console.log("valid registration")
				alert("Passed Validation");
			}
			else{
				alert("Invalid Input");
			}
			
		}

		function validateUsername (userName) {
			if (userName.length > 5 && userName.length < 11 && firstLetterCheck(userName) && alphanumCheck(userName)) {
				console.log("userName is valid")
				return true;
			}
			else {
				console.log("userName is not valid")
				return false;
			}		
		}

		function firstLetterCheck (text) {
			var letter = text.charAt(0);

			if (letter >= "A" && letter <= "z") {
				return true;
			}
			else {
				return false;
			}
		}

		function alphanumCheck(text) {
			var valid = true;
			
			for (var i = 0; i < text.length; i++) {
				var letter = text.charAt(i);
				if ((letter >="A" && letter <= "Z") || (letter >= "a" && letter <= "z") || letter >= 0 && letter <= 9) {
						valid = true;
					}
				else {
					valid = false;
				}
			}
			return valid;	
		}

		function validatePassword(password) {
			if (password.length > 5 && password.length < 11 && alphanumUnderCheck(password) && lowerUpperDigitCheck(password)) {
				console.log("password is valid")
				return true;
			}
			else {
				console.log("password is not valid")
				return false;
			}
		}


		function alphanumUnderCheck(text) {
			var valid = false;
			for (var i = 0; i < text.length; i++) {
				var letter = text.charAt(i);
				
				if (letter >="A" && letter <= "Z" || (letter >= "a" && letter <= "z") || letter >= 0 && letter <= 9 || letter == "_") {
						valid = true;
					}
				else {
					valid = false;
				}
			}
			return valid;	
		}

		function lowerUpperDigitCheck (text) {
			var x = 0;
			var y = 0;
			var z = 0;
			var valid = false;
			for (var i = 0; i < text.length; i++) {
				var letter = text.charAt(i);
				
				if (letter >= "A" && letter <= "Z" && x == 0) {
					x++;
				}
				if (letter >= "a" && letter <= "z" && y == 0) {
					y++;
				}
				if (letter >= 0 && letter <= 9 && z == 0) {
					z++;
				}
			}
			if (x + y + z == 3) {
				valid = true;
			}
			return valid;
		}
	</script>
</body>
</html>